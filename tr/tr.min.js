/*!
 * TR
 * https://github.com/jihao/js_for_fun
 *
 * Copyright 2012, Ji Hao
 * Licensed under the MIT.
 * http://en.wikipedia.org/wiki/MIT_License
 *
 * Date: 2012-02-22
 */
var createTRFragment=function(a){fragment=a.createDocumentFragment();trField=a.createElement("input");trText=a.createTextNode("TR Number:");tipField=a.createElement("span");tipField.setAttribute("id","info");trField.setAttribute("type","text");trField.setAttribute("id","trNumber");attactEvent(trField);fragment.appendChild(trText);fragment.appendChild(trField);fragment.appendChild(tipField);return fragment};var attactEvent=function(a){a.addEventListener("keydown",function(b){if(b.keyCode==13){trNumber=b.target.value;console.log(trNumber);tipField=b.target.nextSibling;if(trNumber.match("^[A-Z]{2}[0-9]{5}$")){window.myWindow.close();window.open("https://mhweb.ericsson.se/mhweb/servlet/tredit?eriref="+trNumber,"_blank","")}else{tipField.appendChild(tipField.ownerDocument.createTextNode("Please match ^[A-Z]{2}[0-9]{5}$"))}}},false)};(function openWindow(){myWindow=window.open("","","width=200,height=100,location=0,menubar=0,status=0,titlebar=0,toolbar=0");dom=myWindow.document;body=dom.getElementsByTagName("body");trFragment=createTRFragment(dom);body.item(0).appendChild(trFragment);myWindow.focus();window.myWindow=myWindow;return myWindow})();